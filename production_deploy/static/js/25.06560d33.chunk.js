"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[25],{557(e,t,a){a.d(t,{J:()=>m});var s=a(9379),l=a(3986),r=a(9950),o=a(1611),i=a(4364),n=a(9332),d=a(4414);const c=["className"],u=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,c);return(0,d.jsx)(o.b,(0,s.A)({ref:t,className:(0,n.cn)(u(),a)},r))});m.displayName=o.b.displayName},1111(e,t,a){a.d(t,{$:()=>m});var s=a(9379),l=a(3986),r=a(9950),o=a(2962),i=a(4364),n=a(9332),d=a(4414);const c=["className","variant","size","asChild"],u=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),m=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:m=!1}=e,g=(0,l.A)(e,c);const h=m?o.DX:"button";return(0,d.jsx)(h,(0,s.A)({className:(0,n.cn)(u({variant:r,size:i,className:a})),ref:t},g))});m.displayName="Button"},4779(e,t,a){a.d(t,{p:()=>d});var s=a(9379),l=a(3986),r=a(9950),o=a(9332),i=a(4414);const n=["className","type"],d=r.forwardRef((e,t)=>{let{className:a,type:r}=e,d=(0,l.A)(e,n);return(0,i.jsx)("input",(0,s.A)({type:r,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t},d))});d.displayName="Input"},6025(e,t,a){a.r(t),a.d(t,{default:()=>j});var s=a(9379),l=a(9950),r=a(8905),o=a(978),i=a(5462),n=a(2607),d=a(1742),c=a(4814),u=a(2033),m=a(6910),g=a(1111),h=a(4779),x=a(557),p=a(9093),f=a(7255),b=a(4414);const v="".concat("https://perfoptimize-1.preview.emergentagent.com","/api"),j=()=>{const[e,t]=(0,l.useState)([]),[a,j]=(0,l.useState)(!0),[N,y]=(0,l.useState)(!1),[w,A]=(0,l.useState)(null),[k,C]=(0,l.useState)({slug:"",title:"",excerpt:"",content:"",keywords:"",meta_description:"",author:"TechResona Team",featured_image:"",published:!0}),_=(0,r.Zp)();(0,l.useEffect)(()=>{z()},[]);const z=async()=>{const e=localStorage.getItem("techresona_admin_token");try{const a=await m.A.get("".concat(v,"/blogs?published_only=false"),{headers:{Authorization:"Bearer ".concat(e)}});t(a.data)}catch(s){var a;401===(null===(a=s.response)||void 0===a?void 0:a.status)&&_("/admin/login")}finally{j(!1)}},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(A(e),C({slug:e.slug,title:e.title,excerpt:e.excerpt,content:e.content,keywords:e.keywords,meta_description:e.meta_description,author:e.author,featured_image:e.featured_image||"",published:e.published})):(A(null),C({slug:"",title:"",excerpt:"",content:"",keywords:"",meta_description:"",author:"TechResona Team",featured_image:"",published:!0})),y(!0)};return a?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center","data-testid":"blog-manager-loading",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-700"}),(0,b.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading blogs..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-slate-100","data-testid":"blog-manager",children:[(0,b.jsx)("div",{className:"bg-white border-b border-slate-200 px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(r.N_,{to:"/admin",className:"text-slate-600 hover:text-slate-900",children:(0,b.jsx)(i.A,{size:24})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-900 font-heading","data-testid":"blog-manager-title",children:"Blog Manager"})]}),(0,b.jsxs)(f.lG,{open:N,onOpenChange:y,children:[(0,b.jsx)(f.zM,{asChild:!0,children:(0,b.jsxs)(g.$,{onClick:()=>R(),"data-testid":"create-blog-button",children:[(0,b.jsx)(n.A,{size:18,className:"mr-2"}),"Create Blog"]})}),(0,b.jsxs)(f.Cf,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(f.c7,{children:(0,b.jsx)(f.L3,{children:w?"Edit Blog":"Create New Blog"})}),(0,b.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(x.J,{htmlFor:"title",children:"Title *"}),(0,b.jsx)(h.p,{id:"title",value:k.title,onChange:e=>C((0,s.A)((0,s.A)({},k),{},{title:e.target.value})),placeholder:"Blog post title","data-testid":"blog-title-input"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(x.J,{htmlFor:"slug",children:"Slug *"}),(0,b.jsx)(h.p,{id:"slug",value:k.slug,onChange:e=>C((0,s.A)((0,s.A)({},k),{},{slug:e.target.value})),placeholder:"blog-post-slug",disabled:!!w,"data-testid":"blog-slug-input"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(x.J,{htmlFor:"excerpt",children:"Excerpt *"}),(0,b.jsx)(p.T,{id:"excerpt",rows:2,value:k.excerpt,onChange:e=>C((0,s.A)((0,s.A)({},k),{},{excerpt:e.target.value})),placeholder:"Brief summary of the blog post","data-testid":"blog-excerpt-input"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(x.J,{htmlFor:"content",children:"Content *"}),(0,b.jsx)(p.T,{id:"content",rows:8,value:k.content,onChange:e=>C((0,s.A)((0,s.A)({},k),{},{content:e.target.value})),placeholder:"Full blog content","data-testid":"blog-content-input"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(x.J,{htmlFor:"keywords",children:"Keywords *"}),(0,b.jsx)(h.p,{id:"keywords",value:k.keywords,onChange:e=>C((0,s.A)((0,s.A)({},k),{},{keywords:e.target.value})),placeholder:"keyword1, keyword2","data-testid":"blog-keywords-input"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(x.J,{htmlFor:"author",children:"Author"}),(0,b.jsx)(h.p,{id:"author",value:k.author,onChange:e=>C((0,s.A)((0,s.A)({},k),{},{author:e.target.value})),placeholder:"Author name","data-testid":"blog-author-input"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(x.J,{htmlFor:"meta_description",children:"Meta Description *"}),(0,b.jsx)(p.T,{id:"meta_description",rows:2,value:k.meta_description,onChange:e=>C((0,s.A)((0,s.A)({},k),{},{meta_description:e.target.value})),placeholder:"SEO meta description","data-testid":"blog-meta-description-input"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(x.J,{htmlFor:"featured_image",children:"Featured Image URL"}),(0,b.jsx)(h.p,{id:"featured_image",value:k.featured_image,onChange:e=>C((0,s.A)((0,s.A)({},k),{},{featured_image:e.target.value})),placeholder:"https://example.com/image.jpg","data-testid":"blog-featured-image-input"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"published",checked:k.published,onChange:e=>C((0,s.A)((0,s.A)({},k),{},{published:e.target.checked})),className:"w-4 h-4 text-indigo-700 border-slate-300 rounded focus:ring-indigo-500","data-testid":"blog-published-checkbox"}),(0,b.jsx)(x.J,{htmlFor:"published",className:"cursor-pointer",children:"Published"})]}),(0,b.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,b.jsxs)(g.$,{onClick:async()=>{const e=localStorage.getItem("techresona_admin_token");try{w?(await m.A.put("".concat(v,"/blogs/").concat(w.slug),k,{headers:{Authorization:"Bearer ".concat(e)}}),u.oR.success("Blog updated successfully")):(await m.A.post("".concat(v,"/blogs"),k,{headers:{Authorization:"Bearer ".concat(e)}}),u.oR.success("Blog created successfully")),y(!1),z()}catch(s){var t,a;u.oR.error((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to save blog")}},className:"flex-1","data-testid":"save-blog-button",children:[(0,b.jsx)(d.A,{size:18,className:"mr-2"}),w?"Update":"Create"," Blog"]}),(0,b.jsx)(g.$,{onClick:()=>y(!1),variant:"outline","data-testid":"cancel-blog-button",children:"Cancel"})]})]})]})]})]})}),(0,b.jsx)("div",{className:"p-6 max-w-7xl mx-auto",children:0===e.length?(0,b.jsx)("div",{className:"text-center py-20 bg-white rounded-xl","data-testid":"no-blogs",children:(0,b.jsx)("p",{className:"text-slate-500",children:"No blogs yet. Create your first blog post!"})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-slate-200","data-testid":"blog-card-".concat(e.slug),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-1 font-heading line-clamp-2",children:e.title}),(0,b.jsxs)("p",{className:"text-sm text-slate-500",children:["/",e.slug]})]}),(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(e.published?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:e.published?"Published":"Draft"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mb-4 line-clamp-3",children:e.excerpt}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsxs)(g.$,{size:"sm",variant:"outline",onClick:()=>R(e),"data-testid":"edit-blog-".concat(e.slug),children:[(0,b.jsx)(o.A,{size:14,className:"mr-1"}),"Edit"]}),(0,b.jsxs)(g.$,{size:"sm",variant:"outline",onClick:()=>(async e=>{if(!window.confirm("Are you sure you want to delete this blog?"))return;const t=localStorage.getItem("techresona_admin_token");try{await m.A.delete("".concat(v,"/blogs/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),u.oR.success("Blog deleted successfully"),z()}catch(a){u.oR.error("Failed to delete blog")}})(e.slug),className:"text-red-600 hover:text-red-700","data-testid":"delete-blog-".concat(e.slug),children:[(0,b.jsx)(c.A,{size:14,className:"mr-1"}),"Delete"]})]})]},e.id))})})]})}},7255(e,t,a){a.d(t,{Cf:()=>v,L3:()=>N,c7:()=>j,lG:()=>x,zM:()=>p});var s=a(9379),l=a(3986),r=a(9950),o=a(5030),i=a(6479),n=a(9332),d=a(4414);const c=["className"],u=["className","children"],m=["className"],g=["className"],h=["className"],x=o.bL,p=o.l9,f=o.ZL,b=(o.bm,r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,c);return(0,d.jsx)(o.hJ,(0,s.A)({ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},r))}));b.displayName=o.hJ.displayName;const v=r.forwardRef((e,t)=>{let{className:a,children:r}=e,c=(0,l.A)(e,u);return(0,d.jsxs)(f,{children:[(0,d.jsx)(b,{}),(0,d.jsxs)(o.UC,(0,s.A)((0,s.A)({ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},c),{},{children:[r,(0,d.jsxs)(o.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(i.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});v.displayName=o.UC.displayName;const j=e=>{let{className:t}=e,a=(0,l.A)(e,m);return(0,d.jsx)("div",(0,s.A)({className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t)},a))};j.displayName="DialogHeader";const N=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,g);return(0,d.jsx)(o.hE,(0,s.A)({ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a)},r))});N.displayName=o.hE.displayName;r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,h);return(0,d.jsx)(o.VY,(0,s.A)({ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a)},r))}).displayName=o.VY.displayName},9093(e,t,a){a.d(t,{T:()=>d});var s=a(9379),l=a(3986),r=a(9950),o=a(9332),i=a(4414);const n=["className"],d=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,n);return(0,i.jsx)("textarea",(0,s.A)({className:(0,o.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t},r))});d.displayName="Textarea"},9332(e,t,a){a.d(t,{cn:()=>r});var s=a(2004),l=a(9800);function r(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,s.$)(t))}}}]);
//# sourceMappingURL=25.06560d33.chunk.js.map