"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[236],{1236(e,s,t){t.r(s),t.d(s,{default:()=>p});var a=t(9950),l=t(8905),d=t(2828),r=t(5833),i=t(319),n=t(3198),o=t(7834),c=t(6910),x=t(2033),m=t(4414);const h="https://perfoptimize-1.preview.emergentagent.com",p=()=>{const e=(0,l.Zp)(),[s,t]=(0,a.useState)(null),[p,u]=(0,a.useState)([]),[g,b]=(0,a.useState)(null),[j,N]=(0,a.useState)(null),[f,y]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!0);(0,a.useEffect)(()=>{localStorage.getItem("adminToken")?(k(),z()):e("/admin/login")},[e]);const k=async()=>{try{const e=await c.A.get("".concat(h,"/logo/current"));t(e.data)}catch(e){}finally{w(!1)}},z=async()=>{try{const e=localStorage.getItem("adminToken"),s=await c.A.get("".concat(h,"/logo/history"),{headers:{Authorization:"Bearer ".concat(e)}});u(s.data)}catch(e){}},A=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return v?(0,m.jsx)("div",{className:"min-h-screen bg-slate-50 p-8 flex items-center justify-center",children:(0,m.jsx)("div",{className:"text-slate-600",children:"Loading..."})}):(0,m.jsx)("div",{className:"min-h-screen bg-slate-50 p-8",children:(0,m.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,m.jsxs)("div",{className:"mb-8",children:[(0,m.jsx)("button",{onClick:()=>e("/admin/dashboard"),className:"text-indigo-600 hover:text-indigo-700 mb-4 inline-flex items-center",children:"\u2190 Back to Dashboard"}),(0,m.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Logo Manager"}),(0,m.jsx)("p",{className:"text-slate-600",children:"Upload and manage your site logo"})]}),(0,m.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,m.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,m.jsx)(n.A,{className:"text-indigo-600",size:24}),(0,m.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Current Logo"})]}),(0,m.jsx)("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-8 bg-slate-50 flex items-center justify-center",children:s?(0,m.jsx)("img",{src:"".concat(s.path,"?t=").concat(Date.now()),alt:"Current Logo",className:"max-h-32 w-auto",onError:e=>{e.target.src="/logo.png"}}):(0,m.jsxs)("div",{className:"text-slate-400 text-center",children:[(0,m.jsx)(n.A,{size:48,className:"mx-auto mb-2"}),(0,m.jsx)("p",{children:"No logo uploaded yet"})]})}),s&&(0,m.jsxs)("div",{className:"mt-4 text-sm text-slate-600",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Filename:"})," ",s.filename||"logo.png"]}),s.uploaded_at&&(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Last Updated:"})," ",A(s.uploaded_at)]}),s.uploaded_by&&(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Uploaded By:"})," ",s.uploaded_by]})]})]}),(0,m.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,m.jsx)(o.A,{className:"text-teal-600",size:24}),(0,m.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Upload New Logo"})]}),g?(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"border-2 border-indigo-500 rounded-xl p-8 bg-indigo-50 mb-4",children:(0,m.jsx)("img",{src:j,alt:"Preview",className:"max-h-32 w-auto mx-auto"})}),(0,m.jsxs)("div",{className:"mb-4 text-sm text-slate-600",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Filename:"})," ",g.name]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Size:"})," ",(g.size/1024).toFixed(2)," KB"]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Type:"})," ",g.type]})]}),(0,m.jsxs)("div",{className:"flex space-x-3",children:[(0,m.jsx)("button",{onClick:async()=>{if(!g)return void x.oR.error("Please select a file first");y(!0);const e=new FormData;e.append("file",g);try{const s=localStorage.getItem("adminToken");await c.A.post("".concat(h,"/logo/upload"),e,{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"multipart/form-data"}}),x.oR.success("Logo uploaded successfully! It may take a moment to update."),b(null),N(null),k(),z(),setTimeout(()=>{window.location.reload()},1e3)}catch(a){var s,t;x.oR.error("Failed to upload logo: "+((null===(s=a.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.detail)||a.message))}finally{y(!1)}},disabled:f,className:"flex-1 bg-indigo-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:f?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,m.jsx)("span",{children:"Uploading..."})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.A,{size:20}),(0,m.jsx)("span",{children:"Upload Logo"})]})}),(0,m.jsx)("button",{onClick:()=>{b(null),N(null)},disabled:f,className:"px-6 py-3 border border-slate-300 rounded-lg font-medium hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]}):(0,m.jsxs)("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-8 bg-slate-50 text-center cursor-pointer hover:border-indigo-500 transition-colors",onClick:()=>document.getElementById("logoInput").click(),children:[(0,m.jsx)(o.A,{size:48,className:"mx-auto mb-4 text-slate-400"}),(0,m.jsx)("p",{className:"text-slate-600 mb-2",children:"Click to upload or drag and drop"}),(0,m.jsx)("p",{className:"text-sm text-slate-400",children:"PNG, JPG, SVG up to 5MB"}),(0,m.jsx)("input",{id:"logoInput",type:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];if(s){if(!s.type.startsWith("image/"))return void x.oR.error("Please select an image file");if(s.size>5242880)return void x.oR.error("File size must be less than 5MB");b(s);const e=new FileReader;e.onloadend=()=>{N(e.result)},e.readAsDataURL(s)}},className:"hidden"})]}),(0,m.jsx)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,m.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,m.jsx)(d.A,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),(0,m.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,m.jsx)("p",{className:"font-semibold mb-1",children:"Logo Guidelines:"}),(0,m.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[(0,m.jsx)("li",{children:"Use PNG for transparent backgrounds"}),(0,m.jsx)("li",{children:"Recommended size: 200x50 to 400x100 pixels"}),(0,m.jsx)("li",{children:"Keep file size under 5MB"}),(0,m.jsx)("li",{children:"Logo will appear in the navigation bar"})]})]})]})})]})]}),p.length>0&&(0,m.jsxs)("div",{className:"mt-8 bg-white rounded-2xl shadow-sm border border-slate-200 p-8",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,m.jsx)(i.A,{className:"text-purple-600",size:24}),(0,m.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Upload History"})]}),(0,m.jsx)("div",{className:"overflow-x-auto",children:(0,m.jsxs)("table",{className:"w-full",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{className:"border-b border-slate-200",children:[(0,m.jsx)("th",{className:"text-left py-3 px-4 text-slate-700 font-semibold",children:"Filename"}),(0,m.jsx)("th",{className:"text-left py-3 px-4 text-slate-700 font-semibold",children:"Uploaded By"}),(0,m.jsx)("th",{className:"text-left py-3 px-4 text-slate-700 font-semibold",children:"Date"}),(0,m.jsx)("th",{className:"text-left py-3 px-4 text-slate-700 font-semibold",children:"Status"})]})}),(0,m.jsx)("tbody",{children:p.map((e,s)=>(0,m.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[(0,m.jsx)("td",{className:"py-3 px-4 text-slate-700",children:e.filename}),(0,m.jsx)("td",{className:"py-3 px-4 text-slate-600",children:e.uploaded_by}),(0,m.jsx)("td",{className:"py-3 px-4 text-slate-600",children:A(e.uploaded_at)}),(0,m.jsx)("td",{className:"py-3 px-4",children:0===s?(0,m.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[(0,m.jsx)(r.A,{size:14,className:"mr-1"}),"Current"]}):(0,m.jsx)("span",{className:"text-slate-400 text-sm",children:"Previous"})})]},e.id))})]})})]})]})})}}}]);
//# sourceMappingURL=236.6e065d33.chunk.js.map